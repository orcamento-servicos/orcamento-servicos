<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sistema de Orçamentos - Página de Testes</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <header class="topbar">
        <div class="brand">
            <div class="logo" aria-hidden="true"></div>
            <div>
                <h1>Sistema de Orçamentos</h1>
                <p class="subtitle">Página de Testes (Dev)</p>
            </div>
        </div>
        <div class="userbox">
            <span id="userStatus">Verificando...</span>
            <button id="btnLogout" class="btn btn-secondary" disabled>Sair</button>
        </div>
    </header>

    <main class="container">
        <nav class="tabs" role="tablist">
            <button class="tab active" data-tab="auth">Autenticação</button>
            <button class="tab" data-tab="clientes">Clientes</button>
            <button class="tab" data-tab="enderecos">Endereços</button>
            <button class="tab" data-tab="servicos">Serviços</button>
            <button class="tab" data-tab="orcamentos">Orçamentos</button>
            <button class="tab" data-tab="vendas">Vendas</button>
            <button class="tab" data-tab="senha">Recuperação de Senha</button>
        </nav>

        <section id="auth" class="tabpane active">
            <div class="card">
                <h2>Registrar novo usuário</h2>
                <div class="grid">
                    <div class="form-group"><label for="regNome">Nome</label><input id="regNome" /></div>
                    <div class="form-group"><label for="regEmail">Email</label><input id="regEmail" type="email" /></div>
                    <div class="form-group"><label for="regSenha">Senha</label><input id="regSenha" type="password" /></div>
                </div>
                <div class="actions">
                    <button id="btnRegistrar" class="btn">Registrar</button>
                </div>
            </div>

            <div class="card">
                <h2>Login</h2>
                <div class="grid">
                    <div class="form-group"><label for="loginEmail">Email</label><input id="loginEmail" type="email" /></div>
                    <div class="form-group"><label for="loginSenha">Senha</label><input id="loginSenha" type="password" /></div>
                </div>
                <div class="actions">
                    <button id="btnLogin" class="btn">Entrar</button>
                    <button id="btnVerificar" class="btn btn-secondary">Verificar sessão</button>
                </div>
            </div>
            <h3>Saída da API</h3>
            <pre id="authOutput" class="output"></pre>
        </section>

        <section id="clientes" class="tabpane">
            <div class="card">
                <h2>Novo Cliente</h2>
                <div class="grid">
                    <div class="form-group"><label for="cliNome">Nome</label><input id="cliNome" /></div>
                    <div class="form-group"><label for="cliTelefone">Telefone</label><input id="cliTelefone" /></div>
                    <div class="form-group"><label for="cliEmail">Email</label><input id="cliEmail" type="email" /></div>
                    <div class="form-group"><label for="cliEndereco">Endereço (simples)</label><input id="cliEndereco" /></div>
                </div>
                <div class="actions">
                    <button id="btnCriarCliente" class="btn">Criar</button>
                </div>
            </div>
            <div class="card">
                <h2>Consultar Clientes</h2>
                <div class="actions">
                    <button id="btnListarClientes" class="btn">Listar Todos</button>
                </div>
                <div class="grid" style="grid-template-columns: 1fr auto; max-width: 400px; margin-top: 1rem;">
                    <div class="form-group"><label for="cliIdBusca">ID do cliente</label><input id="cliIdBusca" type="number" /></div>
                    <button id="btnBuscarCliente" class="btn btn-secondary" style="align-self: end;">Buscar por ID</button>
                </div>
                <h3 style="margin-top: 2rem;">Saída da API</h3>
                <pre id="clientesOutput" class="output"></pre>
            </div>
        </section>

        <section id="enderecos" class="tabpane">
            <div class="card">
                <h2>Gerenciar Endereços do Cliente</h2>
                <div class="form-group" style="max-width: 200px; margin-bottom: 1rem;">
                    <label for="endCliId">ID do Cliente (Obrigatório)</label>
                    <input id="endCliId" type="number" />
                </div>
                <hr style="border: none; border-top: 1px solid var(--cor-borda); margin: 1.5rem 0;" />
                <div class="grid">
                    <div class="form-group"><label for="endLogradouro">Logradouro</label><input id="endLogradouro" /></div>
                    <div class="form-group"><label for="endNumero">Número</label><input id="endNumero" /></div>
                    <div class="form-group"><label for="endComplemento">Complemento</label><input id="endComplemento" /></div>
                    <div class="form-group"><label for="endBairro">Bairro</label><input id="endBairro" /></div>
                    <div class="form-group"><label for="endCidade">Cidade</label><input id="endCidade" /></div>
                    <div class="form-group"><label for="endUf">UF</label><input id="endUf" maxlength="2" /></div>
                    <div class="form-group"><label for="endCep">CEP</label><input id="endCep" /></div>
                    <div class="form-group"><label for="endApelido">Apelido (ex: Casa)</label><input id="endApelido" /></div>
                    <div class="form-group" style="align-items: center; justify-content: center; flex-direction: row; gap: 8px;">
                        <input id="endPadrao" type="checkbox" style="width: auto;" /> <label for="endPadrao">Endereço Padrão</label>
                    </div>
                </div>
                <div class="actions">
                    <button id="btnCriarEndereco" class="btn">Criar Novo Endereço</button>
                    <button id="btnListarEnderecos" class="btn btn-secondary">Listar Endereços do Cliente</button>
                </div>
                <hr style="border: none; border-top: 1px solid var(--cor-borda); margin: 1.5rem 0;" />
                <div class="grid" style="grid-template-columns: 1fr auto auto auto; max-width: 700px;">
                    <div class="form-group"><label for="endId">ID do Endereço (para Ações)</label><input id="endId" type="number" /></div>
                    <button id="btnAtualizarEndereco" class="btn btn-secondary" style="align-self: end;">Atualizar</button>
                    <button id="btnExcluirEndereco" class="btn btn-danger" style="align-self: end;">Excluir</button>
                    <button id="btnDefinirPadrao" class="btn" style="align-self: end;">Definir Padrão</button>
                </div>
                <h3 style="margin-top: 2rem;">Saída da API</h3>
                <pre id="enderecosOutput" class="output"></pre>
            </div>
        </section>

        <section id="servicos" class="tabpane">
             <div class="card">
                <h2>Novo Serviço</h2>
                <div class="grid">
                    <div class="form-group"><label for="srvNome">Nome</label><input id="srvNome" /></div>
                    <div class="form-group"><label for="srvDescricao">Descrição</label><input id="srvDescricao" /></div>
                    <div class="form-group"><label for="srvValor">Valor (ex: 150.50)</label><input id="srvValor" type="number" step="0.01" /></div>
                </div>
                 <div class="actions">
                    <button id="btnCriarServico" class="btn">Criar</button>
                 </div>
            </div>
            <div class="card">
                <h2>Consultar Serviços</h2>
                <div class="actions">
                    <button id="btnListarServicos" class="btn">Listar Todos</button>
                </div>
                <div class="grid" style="grid-template-columns: 1fr auto; max-width: 400px; margin-top: 1rem;">
                    <div class="form-group"><label for="srvIdBusca">ID do Serviço</label><input id="srvIdBusca" type="number" /></div>
                    <button id="btnBuscarServico" class="btn btn-secondary" style="align-self: end;">Buscar por ID</button>
                </div>
                <h3 style="margin-top: 2rem;">Saída da API</h3>
                <pre id="servicosOutput" class="output"></pre>
            </div>
        </section>

        <section id="orcamentos" class="tabpane">
            <div class="card">
                <h2>Novo Orçamento</h2>
                <div class="grid">
                    <div class="form-group"><label for="orcIdCliente">ID do Cliente</label><input id="orcIdCliente" type="number" /></div>
                    <div class="form-group"><label for="orcIdEndereco">ID do Endereço (opcional)</label><input id="orcIdEndereco" type="number" /></div>
                </div>
                <div class="form-group" style="margin-top: 1rem;">
                    <label for="orcItens">Itens em JSON</label>
                    <textarea id="orcItens" placeholder='[{"id_servico": 1, "quantidade": 2}, {"id_servico": 3, "quantidade": 1}]'></textarea>
                </div>
                <div class="actions">
                    <button id="btnCriarOrcamento" class="btn">Criar Orçamento</button>
                </div>
            </div>
            <div class="card">
                <h2>Consultar e Gerenciar Orçamentos</h2>
                <div class="actions">
                    <button id="btnListarOrcamentos" class="btn">Listar Todos</button>
                </div>
                <div class="grid" style="grid-template-columns: 1fr auto; max-width: 400px; margin-top: 1rem;">
                    <div class="form-group"><label for="orcIdBusca">ID do Orçamento (para Ações)</label><input id="orcIdBusca" placeholder="ID do Orçamento" type="number" /></div>
                    <button id="btnDetalharOrcamento" class="btn btn-secondary" style="align-self: end;">Detalhar</button>
                </div>
                 <hr style="border: none; border-top: 1px solid var(--cor-borda); margin: 1.5rem 0;" />
                <div class="actions">
                    <div class="form-group"><label for="orcStatusNovo">Novo Status</label><input id="orcStatusNovo" placeholder="Pendente, Aprovado..." /></div>
                    <button id="btnAtualizarStatus" class="btn btn-secondary">Atualizar Status</button>
                </div>
                <div class="actions">
                    <div class="form-group"><label for="orcEmails">Emails (separados por vírgula)</label><input id="orcEmails" /></div>
                    <div class="form-group"><label for="orcMensagem">Mensagem do e-mail (opcional)</label><input id="orcMensagem" /></div>
                    <button id="btnEnviarEmail" class="btn btn-secondary">Enviar Email</button>
                    <button id="btnBaixarPDF" class="btn">Baixar PDF</button>
                </div>
                <div class="actions">
                    <button id="btnConverterVenda" class="btn btn-success">Converter em Venda</button>
                </div>
                <h3 style="margin-top: 2rem;">Saída da API</h3>
                <pre id="orcamentosOutput" class="output"></pre>
            </div>
        </section>

        <section id="vendas" class="tabpane">
            <div class="card">
                <h2>Consultar Vendas</h2>
                <p>Use os campos abaixo para filtrar a lista de vendas.</p>
                <div class="grid">
                    <div class="form-group"><label for="vIdCliente">ID Cliente</label><input id="vIdCliente" type="number" /></div>
                    <div class="form-group"><label for="vIdOrcamento">ID Orçamento</label><input id="vIdOrcamento" type="number" /></div>
                    <div class="form-group"><label for="vDataIni">Data início (YYYY-MM-DD)</label><input id="vDataIni" /></div>
                    <div class="form-group"><label for="vDataFim">Data fim (YYYY-MM-DD)</label><input id="vDataFim" /></div>
                </div>
                <div class="actions">
                    <button id="btnListarVendas" class="btn">Listar Vendas</button>
                </div>
                 <hr style="border: none; border-top: 1px solid var(--cor-borda); margin: 1.5rem 0;" />
                <div class="grid" style="grid-template-columns: 1fr auto; max-width: 400px;">
                    <div class="form-group"><label for="vIdVenda">ID da Venda</label><input id="vIdVenda" type="number" /></div>
                    <button id="btnDetalharVenda" class="btn btn-secondary" style="align-self: end;">Detalhar Venda</button>
                </div>
                <h3 style="margin-top: 2rem;">Saída da API</h3>
                <pre id="vendasOutput" class="output"></pre>
            </div>
        </section>

        <section id="senha" class="tabpane">
            <div class="card">
                <h2>Solicitar Recuperação de Senha</h2>
                <div class="grid" style="max-width: 400px;">
                    <div class="form-group"><label for="recEmail">Email</label><input id="recEmail" type="email" /></div>
                </div>
                <div class="actions">
                    <button id="btnForgot" class="btn">Solicitar recuperação</button>
                </div>
            </div>
            <div class="card">
                <h2>Resetar Senha</h2>
                <div class="grid">
                    <div class="form-group"><label for="recToken">Token de Recuperação</label><input id="recToken" /></div>
                    <div class="form-group"><label for="recNovaSenha">Nova Senha</label><input id="recNovaSenha" type="password" /></div>
                </div>
                 <div class="actions">
                    <button id="btnReset" class="btn">Resetar</button>
                 </div>
            </div>
            <h3 style="margin-top: 2rem;">Saída da API</h3>
            <pre id="senhaOutput" class="output"></pre>
        </section>
    </main>

    <footer class="footer">Ambiente de desenvolvimento — utilize apenas para testes internos.</footer>

    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <script src="/app.js"></script>
</body>
</html>