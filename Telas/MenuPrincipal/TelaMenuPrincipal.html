<!DOCTYPE html>
<html lang="pt-br" class="">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Planejador de Orçamento — Menu Principal</title>

    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Inter:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900"
    />
    <script>
      window.tailwind = window.tailwind || {};
      window.tailwind.config = {
        darkMode: 'class',
        theme: { extend: {} }
      };
    </script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>

  <body class="bg-[#f5f7fa] text-gray-900 dark:bg-[#0a1015] dark:text-white transition-colors duration-300" style='font-family: Inter, "Noto Sans", sans-serif'>
  <script src="../js/auth-protection.js"></script>
  <div class="relative flex min-h-screen w-full overflow-x-hidden">
      <!-- SIDEBAR -->
      <aside
        class="w-[310px] shrink-0 bg-white/90 dark:bg-[#1a2a38]/95 border-r border-gray-200 dark:border-white/10 shadow-[0_0_0_1px_rgba(0,0,0,0.04),0_10px_30px_rgba(0,0,0,0.10)] dark:shadow-[0_0_0_1px_rgba(255,255,255,0.04),0_10px_30px_rgba(0,0,0,0.35)] backdrop-blur supports-[backdrop-filter]:backdrop-blur sticky top-0 h-screen"
      >
        <div class="p-5 flex flex-col h-full">
          <!-- Perfil -->
          <div class="flex flex-col items-center gap-3">
            <div
              id="avatarPreview"
              class="bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-24 w-24 ring-2 ring-white/10"
              style='background-image:url("../imagens/usuario.jpg");'
            ></div>
            <div class="text-center">
              <p class="text-gray-900 dark:text-white text-lg font-bold leading-tight" id="nomeTopo">Usuário exemplo</p>
              <p class="text-gray-500 dark:text-[#b9cee3] text-sm" id="statusTopo">Online</p>
            </div>

            <a
              href="/MenuPrincipal/TelaEditarPerfil.html"
              class="mt-1 inline-flex items-center justify-center h-9 px-4 rounded-lg bg-blue-600 dark:bg-[#1773cf] text-white text-sm font-semibold hover:bg-blue-700 dark:hover:bg-[#1773cf]/90 transition"
            >
              Editar Perfil
            </a>
          </div>

          <!-- Info -->
          <div class="mt-6">
            <h1 class="text-gray-900 dark:text-white text-sm font-medium">Planejador de Orçamento</h1>
            <p class="text-gray-500 dark:text-[#9fbbd4] text-xs">v1.0</p>
          </div>

          <!-- Menu (links) -->
          <nav class="mt-4 grid gap-1" id="sidebar">
            <!-- HOME -->
            <a href="TelaMenuPrincipal.html" class="menu-item flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition">
              <span class="text-white">
                <!-- ícone: casa -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 256 256" fill="currentColor" aria-hidden="true">
                  <path d="M218.83,103.3,141.17,33.33a16,16,0,0,0-22.34,0L37.17,103.3A16,16,0,0,0,32,114.64V208a16,16,0,0,0,16,16H96a8,8,0,0,0,8-8V160h48v56a8,8,0,0,0,8,8h48a16,16,0,0,0,16-16V114.64A16,16,0,0,0,218.83,103.3Z"/>
                </svg>
              </span>
              <span class="text-white text-sm font-medium">Home</span>
            </a>

            <a href="RegistrarCliente.html" class="menu-item group text-left flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition">
              <span class="text-white">
                <!-- prédios -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M239.73,208H224V96a16,16,0,0,0-16-16H164a4,4,0,0,0-4,4V208H144V32.41a16.43,16.43,0,0,0-6.16-13,16,16,0,0,0-18.72-.69L39.12,72A16,16,0,0,0,32,85.34V208H16.27A8.18,8.18,0,0,0,8,215.47,8,8,0,0,0,16,224H240a8,8,0,0,0,8-8.53A8.18,8.18,0,0,0,239.73,208Z"/>
                </svg>
              </span>
              <span class="text-white text-sm font-medium">Registrar cliente</span>
            </a>

            <a href="/MenuPrincipal/RegistrarServico.html" class="menu-item flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition">
              <span class="text-white">
                <!-- arquivo -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34Z"/>
                </svg>
              </span>
              <span class="text-white text-sm font-medium">Registrar serviço</span>
            </a>

            <a href="/MenuPrincipal/AgendarServico.html" class="menu-item flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition">
              <span class="text-white">
                <!-- calendário -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Z"/>
                </svg>
              </span>
              <span class="text-white text-sm font-medium">Agendar serviço</span>
            </a>

            <a href="/MenuPrincipal/VerHistorico.html" class="menu-item flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition">
              <span class="text-white">
                <!-- relógio sólido (branco) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                  <path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2zm1 5a1 1 0 0 0-2 0v5c0 .265.105.52.293.707l3 3a1 1 0 1 0 1.414-1.414L13 11.586V7z"/>
                </svg>
              </span>
              <span class="text-white text-sm font-medium">Ver histórico</span>
            </a>

            <a href="/MenuPrincipal/CriarOrcamento.html" class="menu-item flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition">
              <span class="text-white">
                <!-- plus -->
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>
                </svg>
              </span>
              <span class="text-white text-sm font-medium">Criar plano de orçamento</span>
            </a>
          </nav>

          <!-- Sair -->
          <div class="mt-auto pt-4">
            <a
              href="/"
              data-logout="true"
              class="w-full inline-flex items-center justify-center h-10 px-4 rounded-lg bg-white/10 text-white font-semibold hover:bg-white/20 transition"
            >
              Sair
            </a>
          </div>
        </div>
      </aside>

      <!-- CONTEÚDO PRINCIPAL (Lobby) -->
      <main class="flex-1 max-w-[1100px] w-full mx-auto px-6 py-8">
        <h2 class="text-white text-3xl font-bold">Bem-vindo!</h2>
        <p class="text-[#93adc8] mt-2 text-lg">
          Selecione uma opção no menu à esquerda para começar.
        </p>

        <div class="mt-6 rounded-xl border border-white/10 bg-white/5 p-6 max-w-2xl">
          <p class="text-white/80 leading-relaxed">
            Olá,<br />
            Este é o painel inicial do <strong>Planejador de Orçamento</strong>.
            Aqui você pode registrar empresas, agendar serviços, consultar o histórico
            e criar planos financeiros personalizados.
            <br /><br />
            <strong>Tutorial:</strong><br />
            • Comece registrando sua empresa em <em>Registrar empresa</em>.<br /><br />
            • Registre os serviços que sua empresa oferece em <em>Registrar serviço</em>.<br /><br />
            • Agende e verifique sua agenda em <em>Agendar serviço</em>.<br /><br />
            • Consulte serviços realizados em <em>Ver histórico</em>.<br /><br />
            • Para montar um orçamento, use <em>Criar plano de orçamento</em>.
          </p>
        </div>
      </main>
    </div>

    <!-- Script de proteção de autenticação -->
    <script src="/js/auth-protection.js"></script>
    
    <script>
      // Destaca automaticamente o item ativo no menu (pela URL atual)
      (function () {
        const currentLast = (location.pathname || '').split('/').pop() || 'TelaMenuPrincipal.html';
        document.querySelectorAll('#sidebar .menu-item').forEach(a => {
          const href = a.getAttribute('href') || '';
          const hrefLast = href.split('/').pop() || '';
          if (href === location.pathname || hrefLast === currentLast) {
            a.classList.add('bg-[#243647]', 'ring-1', 'ring-white/10');
          }
        });
      })();
    </script>
  </body>
</html>
